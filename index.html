<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Ol√° Mundo Init</title>
</head>
<body>
    <div style="padding: 20px; text-align: center;">
        <h2>Inicializando App...</h2>
    </div>

    <!-- Pipefy Client SDK -->
    <script src="https://platform.staticpipefy.com/pipefy-app.js"></script>
    <script>
        console.log('üöÄ Iniciando App Ol√° Mundo...');

        PipefyApp.initCall({
            // PIPE VIEW - Bot√£o e p√°gina no Pipe
            'pipe-view': function(p, pipe) {
                console.log('üìç Configurando pipe-view para pipe:', pipe);
                return {
                    icon: 'https://cdn.glitch.com/03813ab1-4482-45be-b7f7-74e8948d7ae7%2Femoji-icon.svg?1505355049359',
                    text: 'Ol√° Mundo',
                    url: 'https://danielgualberto.github.io/App-Pipefy/pipe-view.html',
                    hide_create_button: false
                };
            },
            
            // CARD BUTTONS - Bot√µes no Card
            'card-buttons': function(p, pipe, card) {
                console.log('üé® Adicionando bot√£o ao card');
                return [
                    {
                        icon: 'https://cdn.glitch.com/03813ab1-4482-45be-b7f7-74e8948d7ae7%2Femoji-icon.svg?1505355049359',
                        text: 'Ol√° Card',
                        callback: function(p) {
                            // Criar uma notifica√ß√£o simples
                            const notification = document.createElement('div');
                            notification.innerHTML = 'üëã Ol√° do Card!';
                            notification.style.cssText = 'position:fixed;top:20px;right:20px;background:#4CAF50;color:white;padding:15px;border-radius:5px;z-index:9999';
                            document.body.appendChild(notification);
                            setTimeout(() => notification.remove(), 3000);
                            
                            console.log('Card clicado:', card);
                        }
                    }
                ];
            },
            
            // CARD BADGES - Etiquetas que aparecem NA LISTAGEM dos cards
            'card-badges': function(p, pipe, card) {
                console.log('üè∑Ô∏è Adicionando badges ao card');
                // Estes badges aparecem como pequenas etiquetas coloridas
                // na visualiza√ß√£o do pipe (kanban ou lista)
                return [
                    {
                        text: 'Ol√°',
                        color: '#4CAF50', // Verde
                        title: 'Este √© um badge de demonstra√ß√£o'
                    },
                    {
                        text: 'üåç',
                        color: '#2196F3', // Azul
                        title: 'Badge com emoji'
                    }
                ];
            },
            
            // CARD TAB - Nova aba dentro do Card
            'card-tab': function(p, pipe, card) {
                console.log('üìë Configurando aba do card');
                return {
                    icon: 'https://cdn.glitch.com/03813ab1-4482-45be-b7f7-74e8948d7ae7%2Femoji-icon.svg?1505355049359',
                    title: 'Ol√° Mundo',
                    url: 'https://danielgualberto.github.io/App-Pipefy/card-tab.html',
                    buttons: [
                        {
                            text: 'Bot√£o Teste',
                            callback: function(p) {
                                console.log('Bot√£o da aba clicado!');
                                alert('‚úÖ Bot√£o da aba funcionando!');
                            }
                        }
                    ]
                };
            }
        });

        console.log('‚úÖ App configurado com sucesso!');
    </script>
</body>
</html>